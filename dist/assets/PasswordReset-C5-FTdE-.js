import{r as a,j as e,N as T}from"./index-BAH94AsE.js";const C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='82'%20height='40'%20fill='none'%20viewBox='0%200%2082%2040'%3e%3cpath%20fill='%23FFD43D'%20d='M73.365%2019.71c0%202.904-2.241%205.31-5.27%205.31-3.03%200-5.228-2.406-5.228-5.31%200-2.905%202.199-5.312%205.228-5.312s5.27%202.407%205.27%205.311Z'%3e%3c/path%3e%3cpath%20fill='%23FF0C81'%20d='M48.764%2019.544c0%202.946-2.323%205.145-5.27%205.145-2.904%200-5.227-2.2-5.227-5.145%200-2.947%202.323-5.104%205.228-5.104%202.946%200%205.27%202.158%205.27%205.104Z'%3e%3c/path%3e%3cpath%20fill='%2311EEFC'%20d='M20.074%2025.02c3.029%200%205.27-2.406%205.27-5.31%200-2.905-2.241-5.312-5.27-5.312-3.03%200-5.228%202.407-5.228%205.311%200%202.905%202.199%205.312%205.228%205.312Z'%3e%3c/path%3e%3cpath%20fill='%23171A26'%20d='M68.095%2030.54c-6.307%200-11.12-4.897-11.12-10.872%200-5.934%204.855-10.83%2011.12-10.83%206.349%200%2011.162%204.938%2011.162%2010.83%200%205.975-4.855%2010.871-11.162%2010.871Zm0-5.52c3.03%200%205.27-2.406%205.27-5.31%200-2.905-2.24-5.312-5.27-5.312-3.029%200-5.228%202.407-5.228%205.311%200%202.905%202.199%205.312%205.228%205.312ZM43.08%2040c-4.813%200-8.506-2.116-10.373-5.934l4.896-2.655c.913%201.784%202.614%203.195%205.394%203.195%203.486%200%205.85-2.448%205.85-6.473v-.374c-1.12%201.411-3.111%202.49-6.016%202.49-5.768%200-10.373-4.481-10.373-10.581%200-5.934%204.813-10.788%2011.12-10.788%206.431%200%2011.162%204.605%2011.162%2010.788v8.299C54.74%2035.27%2049.76%2040%2043.08%2040Zm.415-15.311c2.946%200%205.27-2.2%205.27-5.145%200-2.947-2.324-5.104-5.27-5.104-2.905%200-5.228%202.158-5.228%205.104s2.323%205.145%205.228%205.145ZM20.074%2030.54c-6.307%200-11.12-4.897-11.12-10.872%200-5.934%204.854-10.83%2011.12-10.83%206.348%200%2011.162%204.938%2011.162%2010.83%200%205.975-4.855%2010.871-11.162%2010.871Zm0-5.52c3.029%200%205.27-2.406%205.27-5.31%200-2.905-2.241-5.312-5.27-5.312-3.03%200-5.228%202.407-5.228%205.311%200%202.905%202.199%205.312%205.228%205.312ZM0%200h5.892v30H0V0ZM82%206.5a2.5%202.5%200%201%201-5%200%202.5%202.5%200%200%201%205%200Z'%3e%3c/path%3e%3c/svg%3e";function S(){const[i,x]=a.useState(""),[d,w]=a.useState(""),[h,j]=a.useState(""),[m,v]=a.useState(!1),[p,N]=a.useState(!1),[u,P]=a.useState(!1),[o,f]=a.useState(0),[n,r]=a.useState(!1),[g,l]=a.useState(""),y=async t=>{t.preventDefault(),r(!0),l("");try{console.log("Initiating OTP request");const s=await fetch("https://www.youthsthought.com/backend/request-otp.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i}),credentials:"include"});if(!s.ok)throw new Error(`Server error: ${s.status}`);const c=await s.json();r(!1),c.success?(console.log("OTP request successful"),v(!0),f(300)):(console.log("OTP request failed:",c.message),l(c.message||"Failed to request OTP."))}catch(s){r(!1),console.error("Error during OTP request:",s.message),l("Network error. Please try again.")}},O=t=>{t.preventDefault(),r(!0),l(""),fetch("https://www.youthsthought.com/backend/verify-otp.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,otp:d}),credentials:"include"}).then(s=>s.json()).then(s=>{r(!1),s.success?N(!0):l(s.message||"Invalid OTP.")}).catch(()=>{r(!1),l("Network error. Please try again.")})},b=t=>{t.preventDefault(),r(!0),l(""),fetch("https://www.youthsthought.com/backend/reset-password.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,newPassword:h})}).then(s=>s.json()).then(s=>{r(!1),s.success?P(!0):l(s.message||"Failed to reset password.")}).catch(()=>{r(!1),l("Network error. Please try again.")})};return a.useEffect(()=>{let t;return o>0&&(t=setInterval(()=>{f(s=>s-1)},1e3)),()=>clearInterval(t)},[o]),e.jsxs("div",{className:"login-page",children:[e.jsxs("div",{className:"left-side",children:[e.jsxs("div",{className:"animated-text-container",children:[e.jsx("div",{className:"animated-text text-1",children:"Innovation"}),e.jsx("div",{className:"animated-text text-2",children:"Empowerment"}),e.jsx("div",{className:"animated-text text-3",children:"Leadership"}),e.jsx("div",{className:"animated-text text-4",children:"Independence"}),e.jsx("div",{className:"animated-text text-5",children:"Growth"})]}),e.jsxs("div",{className:"content-wrapper",children:[e.jsx("h1",{className:"profile-title",children:"The 1% Youth"}),e.jsx("div",{className:"profile-story",children:e.jsx("p",{children:"John is a passionate software engineer with over 10 years of experience in developing scalable web applications. He enjoys working with React, Node.js, and cloud technologies."})}),e.jsxs("div",{className:"profile-details",children:[e.jsx("img",{src:"../dp1.jpg",alt:"Profile",className:"profile-pic"}),e.jsxs("div",{className:"details-text",children:[e.jsx("h2",{className:"profile-name",children:"John Doe"}),e.jsx("p",{className:"profile-status",children:"Software Engineer at ABC Corp"})]})]})]})]}),e.jsx("div",{className:"right-side",children:e.jsxs("div",{className:"login-box",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:C,alt:"Logo"})}),e.jsx("div",{className:"welcome-message",children:e.jsx("p",{children:"Welcome back! Please enter your email to get OTP and reset your password."})}),e.jsxs("form",{children:[g&&e.jsx("p",{className:"error-message",children:g}),!m&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form__group field",children:[e.jsx("input",{type:"input",className:"form__field",placeholder:"Email",name:"email",id:"email",required:!0,value:i,onChange:t=>x(t.target.value)}),e.jsx("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),e.jsx("button",{onClick:y,disabled:n||o>0,children:n?"Requesting OTP...":`Get OTP ${o>0?`(${o}s)`:""}`})]}),m&&!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form__group field",children:[e.jsx("input",{type:"input",className:"form__field",placeholder:"OTP",name:"otp",id:"otp",required:!0,value:d,onChange:t=>w(t.target.value)}),e.jsx("label",{htmlFor:"otp",className:"form__label",children:"OTP"})]}),e.jsx("button",{onClick:O,disabled:n,children:n?"Verifying OTP...":"Confirm OTP"})]}),p&&!u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form__group field",children:[e.jsx("input",{type:"password",className:"form__field",placeholder:"New Password",name:"newPassword",id:"newPassword",required:!0,value:h,onChange:t=>j(t.target.value)}),e.jsx("label",{htmlFor:"newPassword",className:"form__label",children:"New Password"})]}),e.jsx("button",{onClick:b,disabled:n,children:n?"Resetting Password...":"Reset Password"})]}),u&&e.jsxs("div",{className:"password-changed-message",children:[e.jsx("p",{children:"Password changed successfully!"}),e.jsx(T,{to:"/",children:e.jsx("button",{children:"Go to Home"})})]})]})]})})]})}export{S as default};
